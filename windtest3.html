<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Windy.js with Mapbox Background</title>

    <!-- Include Mapbox GL JS -->
    <script src='https://api.mapbox.com/mapbox-gl-js/v2.4.1/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.4.1/mapbox-gl.css' rel='stylesheet' />

    <!-- Include Windy.js -->
    <script src="https://api.windy.com/assets/libBoot.js"></script>

    <style>
        body, html { margin: 0; padding: 0; height: 100%; }
        #map { width: 100%; height: 100%; }
    </style>
</head>
<body>
    <div id="map"></div>

    <script>
        // Your Mapbox API key
        mapboxgl.accessToken = 'pk.eyJ1IjoiaW5uZXJjYWJiYWdlIiwiYSI6ImNtMmdpY3hhYzAxaXUybG40YWJsbm96cXQifQ.7nXQSw91Vd8WhZEfuiwSNA';

        // Initialize Mapbox map
        var map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/mapbox/streets-v11',  // You can change the map style here
            center: [-73.935242, 40.730610],  // Center coordinates (example: New York City)
            zoom: 5,  // Zoom level
        });

        // Wait for the map to load before adding Windy
        map.on('load', function() {
            // Windy API Options
            const options = {
                key: 'm08VVC03gQK9RfJrJK0ux1Vvl4wZV8O0', // Windy API Key
                verbose: true,
                lat: 40.730610, // Latitude (New York example)
                lon: -73.935242, // Longitude (New York example)
                zoom: 5,  // Zoom level
            };

            // Initialize Windy on top of Mapbox
            windyInit(options, (windyAPI) => {
                const { map: windyMap } = windyAPI;

                // You can add more customizations or overlays here
            });
        });
    </script>
</body>
</html>
